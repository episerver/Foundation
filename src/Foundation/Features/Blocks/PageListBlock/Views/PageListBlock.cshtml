@using Foundation.Features.Blocks.PageListBlock
@using Foundation.Features.Shared.SelectionFactories

@model PageListBlockViewModel

@Html.FullRefreshPropertiesMetaData(new[] { "IncludePublishDate", "IncludeTeaserText", "Count", "SortOrder", "Root", "PageTypeFilter", "CategoryFilter", "Recursive" })

<div style="background-color: @Model.CurrentBlock.BackgroundColor; opacity:@Model.CurrentBlock.BlockOpacity;" class="@(Model.CurrentBlock.Padding + " " + Model.CurrentBlock.Margin)">
    <div class="row">
        <div class="col-12">
            <!--Heading section-->
            <h2 @Html.EditAttributes(x => x.Heading)>@Model.Heading</h2>
            <hr />
            <!--Render template section-->
            @if (!string.IsNullOrEmpty(Model.CurrentBlock.Template))
            {
                switch (Model.CurrentBlock.Template)
                {
                    case TemplateSelections.BootstrapCardGroup:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_BootstrapCardGroupTemplate.cshtml", Model)
                        break;
                        
                    case TemplateSelections.Grid:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_GridTemplate.cshtml", Model)
                        break;

                    case TemplateSelections.ImageLeft:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_LeftImageTemplate.cshtml", Model)
                        break;

                    case TemplateSelections.ImageTop:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_TopImageTemplate.cshtml", Model)
                        break;

                    case TemplateSelections.NoImage:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_NoImageTemplate.cshtml", Model)
                        break;

                    case TemplateSelections.Highlight:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_HighlightPanelTemplate.cshtml", Model)
                        break;

                    case TemplateSelections.Card:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_CardTemplate.cshtml", Model)
                        break;

                    case TemplateSelections.Insight:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_InsightTemplate.cshtml", Model)
                        break;

                    default:
                        @await Html.PartialAsync("/Features/Blocks/PageListBlock/Views/Templates/_GridTemplate.cshtml", Model)
                        break;
                }
            }
        </div>
    </div>
</div>